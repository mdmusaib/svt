{"version":3,"sources":["components/TruckBooking.js"],"names":["Option","Select","TextArea","Input","TruckBooking","props","Form","useForm","form","containerRef","useRef","api","useApi","useEffect","location","type","console","log","record","obj","permit_expiry_date","setFieldsValue","handleSubmit","value","a","vehicleDetails","Date","toLocaleDateString","invoke","endPoint","method","data","response","status","resetFields","alert","ref","style","padding","onClick","history","goBack","marginBottom","fontSize","paddingTop","onFinish","xl","span","Item","name","rules","required","message","placeholder","maxLength","prefix","width","format","disabledDate","current","now","gutter","danger","htmlType"],"mappings":"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","file":"static/js/19.c04c5b94.chunk.js","sourcesContent":["import React, { useEffect, useRef } from \"react\";\r\nimport { Button, Col, DatePicker, Form, Input, Row, Select } from \"antd\";\r\nimport {\r\n  MailOutlined,\r\n  MobileOutlined,\r\n  UserOutlined,\r\n  CarOutlined,\r\n} from \"@ant-design/icons\";\r\nimport moment from \"moment\";\r\nimport useApi from \"src/core/useApi\";\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\nconst TruckBooking = (props) => {\r\n  const [form] = Form.useForm();\r\n  let containerRef = useRef();\r\n  let api = useApi();\r\n\r\n  useEffect(() => {\r\n    if(props?.location?.type === \"view\"){\r\n      console.log(props.location.record);\r\n      let obj={...props.location.record};\r\n      delete obj.permit_expiry_date;\r\n      form.setFieldsValue(obj);\r\n    }\r\n  }, [props?.location?.type]);\r\n  const handleSubmit = async (value) => {\r\n    let vehicleDetails={...value,permit_expiry_date:new Date(value.permit_expiry_date).toLocaleDateString()}\r\n    let response=await api.invoke({endPoint:\"https://logistic.svtinfra.com/api/updateVehicle\",method:\"post\",data:vehicleDetails});\r\n    if(response.status===1){\r\n      form.resetFields();\r\n    }else{\r\n      alert('Something Went Wroung You Record Couldn`t able to create!');\r\n    }\r\n    console.log(\"called\", response);\r\n  };\r\n\r\n  const handleReset = () => {\r\n    form.resetFields();\r\n  };\r\n\r\n  return (\r\n    <div ref={containerRef} style={{ padding: \"20px 10px\" }}>\r\n      <Row>\r\n        \r\n        {props.location.type===\"view\"?<Button\r\n          onClick={()=>props.history.goBack()}\r\n          type=\"primary\"\r\n          style={{\r\n            marginBottom: 16,\r\n          }}\r\n        >\r\n          Back\r\n        </Button>:\r\n        <p style={{ fontSize: \"calc(10px + 1vmin)\" }}>Vehicle</p>}\r\n      </Row>\r\n      <Row>\r\n        <p style={{ fontSize: \"calc(10px + 1vmin)\" }}>Add New Truck Details</p>\r\n      </Row>\r\n      <hr />\r\n      <Form style={{ paddingTop: 20 }} form={form} onFinish={handleSubmit}>\r\n        <Row>\r\n          <Col xl={12}>\r\n            <Row>\r\n              <Col span={11}>\r\n                <label>Vechicle Provider *</label>\r\n              </Col>\r\n              <Col span={11}>\r\n                <Form.Item\r\n                  name=\"vehicle_provider\"\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: \"Please select vechicle provider!\",\r\n                    },\r\n                  ]}\r\n                >\r\n                  <Select placeholder=\"Select\">\r\n                    <Option value=\"Owned By Company\">Owned By Company</Option>\r\n                    <Option value=\"Third Party Carrier\">\r\n                      Third Party Carrier\r\n                    </Option>\r\n                  </Select>\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={11}>\r\n                <label>Work Service Location *</label>\r\n              </Col>\r\n              <Col span={11}>\r\n                <Form.Item\r\n                  name=\"service_loc\"\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: \"Please enter work service location!\",\r\n                    },\r\n                  ]}\r\n                >\r\n                  <Input placeholder=\"Work Service Location\" />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={11}>\r\n                <label>Vehicle Number *</label>\r\n              </Col>\r\n              <Col span={11}>\r\n                <Form.Item\r\n                  name=\"vehicle_no\"\r\n                  rules={[\r\n                    { required: true, message: \"Please enter vehicle number!\" },\r\n                  ]}\r\n                >\r\n                  <Input\r\n                    placeholder=\"Vehicle Number\"\r\n                    maxLength={10}\r\n                    prefix={<CarOutlined />}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={11}>\r\n                <label>Transportation Type *</label>\r\n              </Col>\r\n              <Col span={11}>\r\n                <Form.Item\r\n                  name=\"transport_type\"\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: \"Please select transportation type!\",\r\n                    },\r\n                  ]}\r\n                >\r\n                  <Select placeholder=\"Select\">\r\n                    <Option value=\"In-Bound\">In-Bound</Option>\r\n                    <Option value=\"Out-Bound\">Out-Bound</Option>\r\n                  </Select>\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={11}>\r\n                <label>Vehicle Details *</label>\r\n              </Col>\r\n              <Col span={11}>\r\n                <Form.Item\r\n                  name=\"vehicle_details\"\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: \"Please enter vehicle details!\",\r\n                    },\r\n                  ]}\r\n                >\r\n                  <TextArea placeholder=\"Vehicle Details\" />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={11}>\r\n                <label>Permit of States *</label>\r\n              </Col>\r\n              <Col span={11}>\r\n                <Form.Item\r\n                  name=\"permit\"\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: \"Please enter permit of states!\",\r\n                    },\r\n                  ]}\r\n                >\r\n                  <Input placeholder=\"Permit of States\" />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={11}>\r\n                <label>Permit Expiry Date *</label>\r\n              </Col>\r\n              <Col span={11}>\r\n                <Form.Item\r\n                  name=\"permit_expiry_date\"\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: \"Please select permit expiry date!\",\r\n                    },\r\n                  ]}\r\n                >\r\n                  <DatePicker\r\n                    style={{ width: \"100%\" }}\r\n                    format=\"DD/MM/YYYY\"\r\n                    disabledDate={(current) => {\r\n                      return (\r\n                        current &&\r\n                        current < new Date(Date.now() - 24 * 60 * 60 * 1000)\r\n                      );\r\n                    }}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n        <hr />\r\n        <Row gutter={16}>\r\n          <Col>\r\n            <Form.Item>\r\n              \r\n              {props.location.type===\"view\"?\"\":<Button type={\"primary\"} danger htmlType=\"submit\">\r\n                Submit\r\n              </Button>}\r\n            </Form.Item>\r\n          </Col>\r\n          \r\n          <Col>\r\n          {props.location.type===\"view\"?\"\":<Button onClick={handleReset}>Reset</Button>}\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TruckBooking;\r\n"],"sourceRoot":""}